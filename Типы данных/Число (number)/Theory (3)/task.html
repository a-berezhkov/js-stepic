<h1>Неточные сравнения</h1>

<p>JavaScript хранит число максимально в 64 бита. В общем, есть ограничение на его размер, поэтому, если попытаться хранить что-то очень большее, получим бесконечность</p>

<pre><code class="language-javascript">10e1000; //Infinity</code></pre>

<p>А еще есть во такие приколы </p>

<pre><code class="language-javascript">0.1 + 0.2; // 0.30000000000000004
9999999999999999 // 10000000000000000</code></pre>

<p> Ну и последнее — это положительный и отрицательный 0 (это связано с тем, что для каждого числа выделен отдельный бит под знак — поэтому любое число может быть положительным или отрицательным). </p>

<pre><code class="language-javascript">0; // 0
-0 // -0</code></pre>

<h2>Что делать?</h2>

<p>Естественно, такие вычисления очень неприятны. Если в дальнейшем будем писать интернет магазин и неправильно округлять копейки, что-то не сойдется с налоговой.</p>

<p>Не все так плохо.</p>

<p>Во-первых, есть метод <code>toFixed(n),</code> который округляет до ближайшего числа и нужной точностью:</p>

<pre><code class="language-javascript">(0.1 + 0.2).toFixed(2); // 0.30</code></pre>

<p>Во-вторых, есть библиотека <code>Math</code> (<a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math" rel="noopener noreferrer nofollow">https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math</a>), которая содержит, в том числе, методы для округления.</p>

<p>Используя ее можно округлить число до ближайшего целого:</p>

<pre><code class="language-javascript">Math.round(1.1+1.2) //2</code></pre>

<p>Хоть подобные решения и могут выглядеть странно, они так же позволяют сделать корректные вычисление с плавающей запятой:</p>

<pre><code class="language-javascript">Math.round((1.1+1.2)*100)/100 //2.3</code></pre>